<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper   
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memDetInfo"><!-- Board -->

	<insert id="insertMember" parameterType="memDetInfoDto">
		insert into
		memDetInfo(memberId,birthDate,gender,phoneNum,emailcheck,selfintro,photopath,membertype,interestfood,nickname)
		values(#{memberId},#{birthDate},#{gender},#{phoneNum},#{emailCheck},#{selfIntro},#{photoPath},#{memberType},#{interestFood},#{nickname})
	</insert>

	<select id="checkIdMember" resultType="int" parameterType="String">
		select count(*) from memDetInfo where memberId=#{id}
 	</select>
 	
 	<select id="checkNicName" resultType="int" parameterType="String">
		select count(*) from memDetInfo where nickname=#{nickname}
 	</select>
 	
 	<select id="selectMemDetInfo" parameterType="MemDetInfoDto" resultType="MemDetInfoDto">
		select * from memDetInfo where memberId=#{memberId}
	</select>
	
	<!-- 글수정하기,글삭제하기  -->
 	<update id="updateMemInfo" parameterType="MemDetInfoDto">
 		update memDetInfo 
 		set birthDate=#{birthDate},
 		      gender=#{gender},
 		      phoneNum=#{phoneNum},
 		      emailCheck=#{emailCheck},
 		      selfIntro=#{selfIntro},
 		      photoPath=#{photoPath},
 		      interestFood=#{interestFood},
 		      nickname=#{nickname}
 		where memberId=#{memberId}
 	</update>
 	
 	<delete id="deleteMemDetInfo" parameterType="MemDetInfoDto">
 		delete from memDetInfo where memberId=#{memberId} 	
 	</delete>
 	
 	<select id="memDetInfobyPasswdSearch" parameterType="MemDetInfoDto" resultType="MemDetInfoDto">
		select * from memDetInfo where memberId=#{memberId} and birthDate=#{birthDate}
	</select>
	

</mapper>